---
id: order-pass
name:
  ru: Пропуск
  en: Order Pass
sourceType: ECOS_MODEL
parentRef: emodel/type@case
formRef: uiserv/form@order-pass-form
journalRef: uiserv/journal@order-passes
dispNameTemplate:
  ru: Пропуск №${regNumber}
  en: Order №${regNumber}
defaultCreateVariant: true
model:
  roles:
    - id: clerk
      name:
        ru: Делопроизводитель
        en: Clerk
      assignees:
        - GROUP__orgstruct_home_
    - id: initiator
      name:
        ru: Инициатор
        en: Initiator
      attributes:
        - initiator
  statuses:
    - id: order_pass
      name:
        ru: Заказ пропуска
        en: Order pass
    - id: order_confirmed
      name:
        ru: Пропуск заказан
        en: Confirmed
    - id: order_rejected
      name:
        ru: В пропуске отказано
        en: Rejected
  attributes:
    - id: visitorFullName
      name:
        ru: ФИО Посетителя
        en: Visitor's initials
    - id: visitorOrganization
      name:
        en: Visitor's organization
        ru: Организация посетителя
    - id: visitingDate
      name:
        ru: Дата посещения
        en: Visit date
      type: DATE
    - id: carBrandAndNumber
      name:
        ru: Марка и номер машины
        en: Car's model
    - id: visitorDocument
      name:
        ru: Документ посетителя
        en: Visitor's document
    - id: initiatorDepartment
      name:
        ru: Подразделение инициатора
        en: Initiator branch
    - id: initiator
      name:
        en: Initiator
        ru: Инициатор
      type: PERSON
      config:
        typeRef: emodel/type@person
    - id: regNumber
      name:
        ru: Регистрационный номер
        en: Register number
      computed:
        type: COUNTER
        config:
          numTemplateRef: emodel/num-template@order-pass-num-template
        storingType: ON_CREATE
